// 'use strict';
var graphsController = angular.module('graphsController', []);

graphsController.controller('graphsController', function($scope){
       $scope.responses = 'responses';
$scope.responses =[
  {
  "BARCODE":"2000169601",
  "nrcrt":"11",
  "sample":"0",
  "weight":"0",
  "weight_total":"0",
  "weight_cccdc":"0",
  "esant_buc":"0",
  "questions":[
    {"id":"A1P1","value":"5"},
    {"id":"A1P2","value":"4"},
    {"id":"A1P3","value":"3"},
    {"id":"A1P4","value":"4"},
    {"id":"A1P5","value":"5"},
    {"id":"A1P6","value":"5"}
    ]
  },
  {
  "BARCODE":"2000169602",
  "nrcrt":"12",
  "sample":"0",
  "weight":"0",
  "weight_total":"0",
  "weight_cccdc":"0",
  "esant_buc":"0",
  "questions":[
    {"id":"A1P1","value":"6"},
    {"id":"A1P2","value":"4"},
    {"id":"A1P3","value":"1"},
    {"id":"A1P4","value":"3"},
    {"id":"A1P5","value":"1"},
    {"id":"A1P6","value":"5"}
    ]
  },
  {
  "BARCODE":"2000169603",
  "nrcrt":"13",
  "sample":"0",
  "weight":"0",
  "weight_total":"0",
  "weight_cccdc":"0",
  "esant_buc":"0",
  "questions":[
    {"id":"A1P1","value":"6"},
    {"id":"A1P2","value":"6"},
    {"id":"A1P3","value":"4"},
    {"id":"A1P4","value":"5"},
    {"id":"A1P5","value":"3"},
    {"id":"A1P6","value":"5"}
    ]
  },
  {
  "BARCODE":"2000169604",
  "nrcrt":"14",
  "sample":"0",
  "weight":"0",
  "weight_total":"0",
  "weight_cccdc":"0",
  "esant_buc":"0",
  "questions":[
    {"id":"A1P1","value":"6"},
    {"id":"A1P2","value":"5"},
    {"id":"A1P3","value":"5"},
    {"id":"A1P4","value":"3"},
    {"id":"A1P5","value":"5"},
    {"id":"A1P6","value":"4"}
    ]
  },
  {
  "BARCODE":"2000169605",
  "nrcrt":"15",
  "sample":"0",
  "weight":"1",
  "weight_total":"0",
  "weight_cccdc":"1",
  "esant_buc":"0",
  "questions":[
    {"id":"A1P1","value":"5"},
    {"id":"A1P2","value":"6"},
    {"id":"A1P3","value":"5"},
    {"id":"A1P4","value":"5"},
    {"id":"A1P5","value":"4"},
    {"id":"A1P6","value":"1"}
    ]
  },
  {
  "BARCODE":"2000169606",
  "nrcrt":"16",
  "sample":"0",
  "weight":"0",
  "weight_total":"0",
  "weight_cccdc":"1",
  "esant_buc":"0",
  "questions":[
    {"id":"A1P1","value":"5"},
    {"id":"A1P2","value":"6"},
    {"id":"A1P3","value":"5"},
    {"id":"A1P4","value":"5"},
    {"id":"A1P5","value":"1"},
    {"id":"A1P6","value":"4"}
    ]
  },
  {
  "BARCODE":"2000169607",
  "nrcrt":"17",
  "sample":"0",
  "weight":"1",
  "weight_total":"1",
  "weight_cccdc":"1",
  "esant_buc":"0",
  "questions":[
    {"id":"A1P1","value":"5"},
    {"id":"A1P2","value":"2"},
    {"id":"A1P3","value":"5"},
    {"id":"A1P4","value":"5"},
    {"id":"A1P5","value":"6"},
    {"id":"A1P6","value":"1"}
    ]
  },
  {
  "BARCODE":"2000169608",
  "nrcrt":"18",
  "sample":"0",
  "weight":"1",
  "weight_total":"0",
  "weight_cccdc":"1",
  "esant_buc":"0",
  "questions":[
    {"id":"A1P1","value":"6"},
    {"id":"A1P2","value":"6"},
    {"id":"A1P3","value":"6"},
    {"id":"A1P4","value":"5"},
    {"id":"A1P5","value":"2"},
    {"id":"A1P6","value":"2"}
    ]
  },
  {
  "BARCODE":"2000169609",
  "nrcrt":"19",
  "sample":"0",
  "weight":"0",
  "weight_total":"0",
  "weight_cccdc":"0",
  "esant_buc":"0",
  "questions":[
    {"id":"A1P1","value":"6"},
    {"id":"A1P2","value":"6"},
    {"id":"A1P3","value":"5"},
    {"id":"A1P4","value":"3"},
    {"id":"A1P5","value":"3"},
    {"id":"A1P6","value":"1"}
    ]
  },
  {
  "BARCODE":"2000169610",
  "nrcrt":"20",
  "sample":"0",
  "weight":"1",
  "weight_total":"1",
  "weight_cccdc":"2",
  "esant_buc":"0",
  "questions":[
    {"id":"A1P1","value":"5"},
    {"id":"A1P2","value":"3"},
    {"id":"A1P3","value":"4"},
    {"id":"A1P4","value":"2"},
    {"id":"A1P5","value":"1"},
    {"id":"A1P6","value":"5"}
    ]
  },
  {
  "BARCODE":"3000169601",
  "nrcrt":"21",
  "sample":"0",
  "weight":"1",
  "weight_total":"1",
  "weight_cccdc":"1",
  "esant_buc":"0",
  "questions":[
    {"id":"A1P1","value":"5"},
    {"id":"A1P2","value":"4"},
    {"id":"A1P3","value":"5"},
    {"id":"A1P4","value":"5"},
    {"id":"A1P5","value":"2"},
    {"id":"A1P6","value":"3"}
    ]
  },
  {
  "BARCODE":"3000169602",
  "nrcrt":"22",
  "sample":"0",
  "weight":"1",
  "weight_total":"0",
  "weight_cccdc":"1",
  "esant_buc":"0",
  "questions":[
    {"id":"A1P1","value":"6"},
    {"id":"A1P2","value":"3"},
    {"id":"A1P3","value":"4"},
    {"id":"A1P4","value":"5"},
    {"id":"A1P5","value":"9"},
    {"id":"A1P6","value":"3"}
    ]
  },
  {
  "BARCODE":"3000169603",
  "nrcrt":"23",
  "sample":"0",
  "weight":"0",
  "weight_total":"0",
  "weight_cccdc":"0",
  "esant_buc":"0",
  "questions":[
    {"id":"A1P1","value":"6"},
    {"id":"A1P2","value":"4"},
    {"id":"A1P3","value":"5"},
    {"id":"A1P4","value":"1"},
    {"id":"A1P5","value":"1"},
    {"id":"A1P6","value":"5"}
    ]
  },
  {
  "BARCODE":"3000169604",
  "nrcrt":"24",
  "sample":"0",
  "weight":"1",
  "weight_total":"0",
  "weight_cccdc":"1",
  "esant_buc":"0",
  "questions":[
    {"id":"A1P1","value":"5"},
    {"id":"A1P2","value":"6"},
    {"id":"A1P3","value":"5"},
    {"id":"A1P4","value":"5"},
    {"id":"A1P5","value":"3"},
    {"id":"A1P6","value":"4"}
    ]
  },
  {
  "BARCODE":"3000169605",
  "nrcrt":"25",
  "sample":"0",
  "weight":"0",
  "weight_total":"0",
  "weight_cccdc":"0",
  "esant_buc":"0",
  "questions":[
    {"id":"A1P1","value":"6"},
    {"id":"A1P2","value":"4"},
    {"id":"A1P3","value":"5"},
    {"id":"A1P4","value":"5"},
    {"id":"A1P5","value":"3"},
    {"id":"A1P6","value":"4"}
    ]
  },
  {
  "BARCODE":"3000169606",
  "nrcrt":"26",
  "sample":"0",
  "weight":"1",
  "weight_total":"0",
  "weight_cccdc":"1",
  "esant_buc":"0",
  "questions":[
    {"id":"A1P1","value":"6"},
    {"id":"A1P2","value":"6"},
    {"id":"A1P3","value":"6"},
    {"id":"A1P4","value":"5"},
    {"id":"A1P5","value":"1"},
    {"id":"A1P6","value":"1"}
    ]
  },
  {
  "BARCODE":"3000169607",
  "nrcrt":"27",
  "sample":"0",
  "weight":"1",
  "weight_total":"1",
  "weight_cccdc":"1",
  "esant_buc":"0",
  "questions":[
    {"id":"A1P1","value":"6"},
    {"id":"A1P2","value":"6"},
    {"id":"A1P3","value":"6"},
    {"id":"A1P4","value":"5"},
    {"id":"A1P5","value":"1"},
    {"id":"A1P6","value":"4"}
    ]
  },
  {
  "BARCODE":"3000169608",
  "nrcrt":"28",
  "sample":"0",
  "weight":"0",
  "weight_total":"0",
  "weight_cccdc":"1",
  "esant_buc":"0",
  "questions":[
    {"id":"A1P1","value":"6"},
    {"id":"A1P2","value":"2"},
    {"id":"A1P3","value":"5"},
    {"id":"A1P4","value":"5"},
    {"id":"A1P5","value":"1"},
    {"id":"A1P6","value":"5"}
    ]
  }
];

$scope.questions = [
  {
   "name": "A1P1",
   "label":"De obicei, cat de des/ multâ€¦ ? Va uitati la televizor",
    "questions" :[
    {"id":"1", "value" : "O data/ de doua ori pe an sau niciodata"},
    {"id":"2", "value" : "O data/ de doua ori pe luna"},
    {"id":"3", "value" : "O data/ de doua ori pe saptamana"},
    {"id":"4", "value" : "Sub o ora pe zi"},
    {"id":"5", "value" : "1-3 ore zilnic"},
    {"id":"6", "value" : "Peste 3 ore zilnic"},
   ]
  },
  {
   "name": "A1P2",
   "label":"Ascultati radio",
    "questions" :[
    {"id":"1", "value" : "O data/ de doua ori pe an sau niciodata"},
    {"id":"2", "value" : "O data/ de doua ori pe luna"},
    {"id":"3", "value" : "O data/ de doua ori pe saptamana"},
    {"id":"4", "value" : "Sub o ora pe zi"},
    {"id":"5", "value" : "1-3 ore zilnic"},
    {"id":"6", "value" : "Peste 3 ore zilnic"},
   ]
  },
  {
   "name": "A1P3",
   "label":"Ascultati muzica",
    "questions" :[
    {"id":"1", "value" : "O data/ de doua ori pe an sau niciodata"},
    {"id":"2", "value" : "O data/ de doua ori pe luna"},
    {"id":"3", "value" : "O data/ de doua ori pe saptamana"},
    {"id":"4", "value" : "Sub o ora pe zi"},
    {"id":"5", "value" : "1-3 ore zilnic"},
    {"id":"6", "value" : "Peste 3 ore zilnic"},
   ]
  },
  {
   "name": "A1P4",
   "label":"Vizionati filme",
    "questions" :[
    {"id":"1", "value" : "O data/ de doua ori pe an sau niciodata"},
    {"id":"2", "value" : "O data/ de doua ori pe luna"},
    {"id":"3", "value" : "O data/ de doua ori pe saptamana"},
    {"id":"4", "value" : "Sub o ora pe zi"},
    {"id":"5", "value" : "1-3 ore zilnic"},
    {"id":"6", "value" : "Peste 3 ore zilnic"},
   ]
  },
  {
   "name": "A1P5",
   "label":"Cititi carti",
    "questions" :[
    {"id":"1", "value" : "O data/ de doua ori pe an sau niciodata"},
    {"id":"2", "value" : "O data/ de doua ori pe luna"},
    {"id":"3", "value" : "O data/ de doua ori pe saptamana"},
    {"id":"4", "value" : "Sub o ora pe zi"},
    {"id":"5", "value" : "1-3 ore zilnic"},
    {"id":"6", "value" : "Peste 3 ore zilnic"},
   ]
  },
  {
   "name": "A1P6",
   "label":"Cititi ziare, reviste",
   "questions" : [
    {"id":"1", "value" : "O data/ de doua ori pe an sau niciodata"},
    {"id":"2", "value" : "O data/ de doua ori pe luna"},
    {"id":"3", "value" : "O data/ de doua ori pe saptamana"},
    {"id":"4", "value" : "Sub o ora pe zi"},
    {"id":"5", "value" : "1-3 ore zilnic"},
    {"id":"6", "value" : "Peste 3 ore zilnic"},
   ]
  }
];
	$scope.tfo = 'jkljlkj string';
	$scope.graphOpts = {
    	lines: { show: true },
    	colors:[ '#0055CC', '#078600', '#6e0069', '#ff8900' ],
	};

  $(function () {

  });

	$scope.graphHeight = 400;

	// $scope.graphData = [ [[1, 3], [2, 9], [4, 27], [8, 81]], [[0, 3], [4, 6], [98, 5], [10, 13]] ];
  $scope.graphData = [
    {
        label: "USA",
        data: [[2003, 10882],
            [2002, 10383],
            [2001, 10020],
            [2000, 9762],
            [1999, 9213],
            [1998, 8720]]
    },
     
    {
        label: "EU",
        data: [[2003, 10970],
            [2002, 9040],
            [2001, 8303],
            [2000, 8234],
            [1999, 8901],
            [1998, 8889]]
    },
     
    {
        label: "UK",
        data: [[2003, 1795],
            [2002, 1564],
            [2001, 1430],
            [2000, 1438],
            [1999, 1460],
            [1998, 1423]]
    },
     
    {
        label: "China",
        data: [[2003, 1575],
            [2002, 1434],
            [2001, 1345],
            [2000, 1252],
            [1999, 1158],
            [1998, 1148]]
    },
     
    {
        label: "India",
        data: [[2003, 599],
            [2002, 510],
            [2001, 479],
            [2000, 457],
            [1999, 447],
            [1998, 414]]
    }
];

})

var graphsDirective = angular.module('graphsDirective', []);

graphsDirective.directive( 'chart', function() {
    return {
      restrict: 'AE',
      replace: true,
      template: '<div class="plotarea">something',
      // scope:{tstvalue: "=tstvalue"}
      link: function(scope, elem, attrs) {
        console.log(scope.graphData);
        // console.log(tstvalue);
        var data = [ [[2003, 8700],
          [2002, 10383],
          [2001, 10020],
          [2000, 9762],
          [1999, 9213],
          [1998, 8720]] ];
       
      // var plotarea = $(".plotarea");
      
      // plotarea.css("width", "500px");
      $.plot(elem, scope.graphData );

        // elem.bind('click', function() {
        //   elem.css('background-color', 'white');
        //   scope.$apply(function() {
        //     scope.color = "white";
        //   });
        // });
        // elem.bind('mouseover', function() {
        //   elem.css('cursor', 'pointer');
        // });
      }
    }

  });
  // return {
  //   restrict: 'E',
  //   template: htmlTemplate,
  //   replace: true,
  //   scope: {
  //     graphData: '=graphdata',
  //     // graphOpts: '=graphopts',
  //     graphHeight: '=graphheight',
  //   },
  //   link: function( scope, element, attrs ) {
  //   	console.log(graphHeight);
  //   	// console.log(graphOpts);
  //   	console.log(graphData);
  //     // scope.$watch( 'graphData', function( graphData ) {
  //       // if( typeof scope.graphData !== 'undefined' && scope.graphData.length > 0 ) {
  //         // element.plot([[[0, 3], [4, 8], [8, 5], [9, 13]]]);
  //       // }
  //     // });
  //   },
  // };
// }); // thanks to http://josenidhin.blogspot.ro/2013/07/a-simple-graph-directive-in-angularjs.html?view=timeslide